#+TITLE: OrgMacs - Modular Configuration
#+AUTHOR: Abhishek Anand Amralkar
#+STARTUP: overview
#+PROPERTY: header-args:emacs-lisp :tangle yes :mkdirp yes
#+auto_tangle: t

* Early Init
:PROPERTIES:
:header-args:emacs-lisp: :tangle early-init.el
:END:

** Header
#+begin_src emacs-lisp
;;; early-init.el --- Early initialization -*- lexical-binding: t -*-
;;; Commentary:
;; Performance optimization during startup
;;; Code:
#+end_src

** Performance Optimizations
#+begin_src emacs-lisp
;; Disable package.el early
(setq package-enable-at-startup nil)

;; Optimize garbage collection during startup
(setq gc-cons-threshold most-positive-fixnum
      gc-cons-percentage 0.6)

;; Restore after startup
(add-hook 'emacs-startup-hook
          (lambda ()
            (setq gc-cons-threshold (* 16 1024 1024)
                  gc-cons-percentage 0.1)))
#+end_src

** UI Optimizations
#+begin_src emacs-lisp
;; Disable UI elements early to avoid flashing
(push '(menu-bar-lines . 0) default-frame-alist)
(push '(tool-bar-lines . 0) default-frame-alist)
(push '(vertical-scroll-bars) default-frame-alist)

;; Prevent frame resizing
(setq frame-inhibit-implied-resize t)
#+end_src

** Footer
#+begin_src emacs-lisp
(provide 'early-init)
;;; early-init.el ends here
#+end_src

* Main Init
:PROPERTIES:
:header-args:emacs-lisp: :tangle init.el
:END:

** Header
#+begin_src emacs-lisp
;;; init.el --- Main initialization file -*- lexical-binding: t -*-
;;; Commentary:
;; Loads modular configuration from config/ directory
;;; Code:
#+end_src

** Custom File
#+begin_src emacs-lisp
;; Set custom file
(setq custom-file (expand-file-name "custom.el" user-emacs-directory))
(when (file-exists-p custom-file)
  (load custom-file))
#+end_src

** Load Path
#+begin_src emacs-lisp
;; Add config directory to load path
(add-to-list 'load-path (expand-file-name "config" user-emacs-directory))
#+end_src

** Load Modules
#+begin_src emacs-lisp
;; Load configuration modules in order
(require 'core-config)
(require 'ui-config)
(require 'editing-config)
(require 'programming-config)
(require 'languages-config)
(require 'infrastructure-config)
(require 'org-mode-config)
(require 'files-config)
#+end_src

** Footer
#+begin_src emacs-lisp
(provide 'init)
;;; init.el ends here
#+end_src